{"title":"Fingerprinting Project","markdown":{"yaml":{"title":"Fingerprinting Project","editor":"visual"},"headingText":"Dataset","containsRefs":false,"markdown":"\n\n\nThe dataset contains raw accelerometry data collected at 100 Hz for 32 healthy subjects during 4 different physical activities. It is freely available on [PhysioNet](https://doi.org/10.13026/51h0-a262).\n\n### Research Question\n\nWe wanted to fingerprint or identify the individuals based on their raw accelerometry data.\n\n### Exploratory Analysis\n\n```{r, fig.width = 8, fig.height=3}\n#| echo: false\n#| eval: true\n#| warning: false\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(ggpubr)\n\ndemo <- read.csv(\"/Users/yanzhang/Desktop/WIT/Data/participant_demog.csv\")\n\ngender <- ggplot(demo, aes(x=gender, fill=gender)) +\n  geom_bar(width=0.6) +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5),\n        legend.position = \"none\") +\n  labs(x = NULL,\n       y = \"Count\",\n       title = \"Gender\") + \n  scale_fill_brewer(palette=\"Blues\")\n\nrace <- ggplot(demo, aes(x=race, fill=race)) +\n  geom_bar(width=0.6) +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5),\n        legend.position = \"none\") +\n  labs(x = NULL,\n       y = \"Count\",\n       title = \"Race\") + \n  scale_fill_brewer(palette=\"Blues\")\n\nright <- demo %>%\n  mutate(right=case_when(right_handed== 1 ~ \"Right Handed\",\n                         right_handed!= 1 ~ \"Not Right Handed\")) %>%\n  ggplot(aes(x=right, fill=right)) +\n  geom_bar(width=0.6) +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5),\n        legend.position = \"none\") +\n  labs(x = NULL,\n       y = \"Count\",\n       title = \"Right Handedness\") + \n  scale_fill_brewer(palette=\"Blues\")\n\nfigure1 <- ggarrange(gender, race, right,\n          ncol = 3, nrow = 1)\n\nannotate_figure(figure1, \n                bottom = text_grob(\"Figure 1: A histogram of categorical demographics for the 32 subjects.\", \n                             hjust = 1, x = 1, face = \"bold\", \n                             size = 10))\n```\n\nWe first made plots to visualize the demographics of the 32 participants. There are 13 men and 19 women, and around 75% of them are white. Additionally, 31 out of 32 subjects are right-handed, and one individual identified herself as ambidextrous.\n\n```{r, fig.width = 8, fig.height=4}\n#| echo: false\n#| eval: true\n#| warning: false\n#| include: false\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(ggpubr)\n\nage <- ggplot(demo, aes(x=age, color=gender)) +\n  geom_density() +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5)) +\n  labs(x = \"Age (years)\",\n       y = \"Count\",\n       title = \"Age\") \n\nheight <- ggplot(demo, aes(x=height_in, color=gender)) +\n  geom_density() +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5)) +\n  labs(x = \"Height (inches)\",\n       y = \"Count\",\n       title = \"Height\") \n\nweight <- ggplot(demo, aes(x=weight_lbs, color=gender)) +\n  geom_density() +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5)) +\n  labs(x = \"Weight (lbs)\",\n       y = \"Count\",\n       title = \"Weight\") \n\nfigure2 <- ggarrange(age, height, weight, align = \"hv\",\n          ncol = 3, nrow = 1, common.legend = TRUE)\n\nannotate_figure(figure2, \n                bottom = text_grob(\"Figure 2: Densities of continuous demographics for the 32 subjects.\", \n                             hjust = 1, x = 1, face = \"bold\", \n                             size = 10))\n#Continuous demographic features for the 32 subjects are plotted and colored by gender. Females tend to weigh less and are shorter than males.\n```\n\n```{r, fig.width = 8, fig.height=4}\n#| echo: false\n#| eval: true\n#| warning: false\nlibrary(caret)\n\nid <- 21\ndf_fit <- read_rds(file.path(\"/Users/yanzhang/Desktop/WIT/Data/raw_accel_data_deocs.rds\"))\ndemog <- data.frame(cbind(df_fit$id, df_fit$subj_id)) %>% distinct()\nnames(demog) <- c(\"subject_id\", \"real_id\")\nfilename <- paste(\"/Users/yanzhang/Desktop/WIT/Data/raw_data/\", (demog[id, ])$real_id, \".csv\", sep=\"\")\n\nsub21 <- (read.csv(filename))[,1:5] %>% filter(activity==1) %>%\n  mutate(vector_magnitude = sqrt(lw_x^2+lw_y^2+lw_z^2))\n\nraw <- sub21 %>%\n  filter(time_s<=651 & time_s>=641) %>%\n  gather(key = Axis, value = Amplitude, \n         c(\"lw_x\", \"lw_y\", \"lw_z\")) %>%\n  ggplot(aes(x=time_s, y = Amplitude, group = Axis, colour = Axis)) + \n  geom_line(size=0.3) +\n  facet_grid(Axis~., scales = \"free_y\") +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5)) +\n  theme(legend.position = \"none\")\n\nvm <- sub21 %>% \n  filter(time_s<=651 & time_s>=641) %>%\n  ggplot(aes(x=time_s, y = vector_magnitude)) + \n  geom_line(size=0.3) +\n  theme_classic() +\n  theme(plot.title = element_text(hjust=0.5)) +\n  theme(legend.position = \"none\")\n\nfigure3 <- ggarrange(raw, vm + rremove(\"ylab\"), align = \"hv\")\n\nannotate_figure(figure3, \n                bottom = text_grob(\"Figure 3: Raw and processed accelerometry walking data for subject 21.\", \n                             hjust = 1, x = 1, face = \"bold\", \n                             size = 10))\n```\n\nRaw accelerometry walking data collected from left wrist for the selected subject is plotted over a 10s time interval. We took the vector magnitude of the amplitudes from 3 axes.\n\n### Methods\n\n<center>![](outfile.gif){width=\"65%\"}</center>\n\nWe first translated the signals for all subjects over a small time interval (such as 0.25s as shown) so that we have pairs of the original (u) and time-lagged (s) signals starting from 0.25s. The animated figure above shows the first pair of u and s signals as the red dots. We obtained all the possible pairs and investigated their densities (autoregressive distributions) at each s-u interval for every individual. Please see a more in-depth visualization in the [R-shiny app](https://yanzhang3.shinyapps.io/denPub/). We then fitted functional and logistic regressions to identify the subjects.\n\n### Results\n\nTo the best of our knowledge, this is the first time that accelerometry fingerprinting has been implemented with the 100% success rate. We believe that our model is able to capture the unique walking patterns for each study participant, which may find applications in forensics, health monitoring and recovery management.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"Analysis.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.1.251","editor":"visual","theme":"minty","title":"Fingerprinting Project"},"extensions":{"book":{"multiFile":true}}}}}